(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{21:function(e,t,r){e.exports=r(33)},26:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(18),o=r.n(c),l=r(6),u=r(1),s=(r(26),r(7)),m=r.n(s),i=r(9),p=r(10),f=r(15),h=function(){var e=Object(i.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,r=function(e,r){return t.find((function(t){return t.sex===e&&t.name===r}))||null},n=t.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{motherName:e.motherName||"",fatherName:e.fatherName||"",mother:r("f",e.motherName),father:r("m",e.fatherName)})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=["Name","Sex","Born","Died"],v=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),r=t[0],c=t[1],o=Object(u.g)(),l=Object(u.h)(),s=new URLSearchParams(l.search),m={background:"#a6a6d3"};return a.a.createElement("thead",null,a.a.createElement("tr",null,b.map((function(e){var t=r===e?m:{};return a.a.createElement("th",{style:t,onClick:function(){return function(e){c(e);var t="asc"===s.get("sortOrder")?"desc":"asc";s.get("sortBy")!==e&&(t="asc"),s.set("sortBy",e),s.set("sortOrder",t),o.push({search:s.toString()})}(e)},key:e,scope:"col"},e,a.a.createElement("img",{src:"/images/sort_both.png",alt:"sorting arrows"}))})),a.a.createElement("th",{scope:"col"},"Mother"),a.a.createElement("th",{scope:"col"},"Father")))},E=r(20),g=r.n(E),y=function(e){var t=e.slug,r=e.name;return a.a.createElement(l.b,{to:"/people/".concat(t)},r)},O=[{sortBy:"name",pattern:function(e,t){return e.name.localeCompare(t.name)}},{sortBy:"sex",pattern:function(e,t){return e.sex.localeCompare(t.sex)}},{sortBy:"born",pattern:function(e,t){return e.born-t.born}},{sortBy:"died",pattern:function(e,t){return e.died-t.died}}],j=function(e){var t,r,n=e.people,c=Object(u.i)().slug,o=Object(u.h)(),l=new URLSearchParams(o.search),s=l.get("query"),m=null===(t=l.get("sortBy"))||void 0===t?void 0:t.toLowerCase(),i=null===(r=l.get("sortOrder"))||void 0===r?void 0:r.toLowerCase(),p=O,f=n;function h(e,t){return e.toLowerCase().includes(t.toLowerCase())}s&&(f=n.filter((function(e){var t=e.name,r=e.motherName,n=e.fatherName;return h(t,s)||h(r,s)||h(n,s)})));var d=p.find((function(e){return e.sortBy===m}));return d&&f.sort(d.pattern),"desc"===i&&f.reverse(),a.a.createElement("tbody",null,f.map((function(e){var t,r,n,o,l="m"===e.sex;return a.a.createElement("tr",{key:e.slug,className:g()({"table-active":e.slug===c})},a.a.createElement("th",{scope:"row"},a.a.createElement(y,{slug:e.slug,name:e.name})),a.a.createElement("td",{style:{color:l?"blue":"red"}},e.sex),a.a.createElement("td",null,e.born),a.a.createElement("td",null,e.died),a.a.createElement("td",null,(null===(t=e.mother)||void 0===t?void 0:t.slug)?a.a.createElement(y,{slug:null===(r=e.mother)||void 0===r?void 0:r.slug,name:e.motherName}):e.motherName),a.a.createElement("td",null,(null===(n=e.father)||void 0===n?void 0:n.slug)?a.a.createElement(y,{slug:null===(o=e.father)||void 0===o?void 0:o.slug,name:e.fatherName}):e.fatherName))})))},N=function(){var e=Object(u.g)(),t=Object(u.h)(),r=new URLSearchParams(t.search),c=r.get("query")||"",o=Object(n.useState)(c),l=Object(p.a)(o,2),s=l[0],m=l[1],i=Object(n.useCallback)(function(e,t){var r;return function(){clearTimeout(r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];r=setTimeout.apply(void 0,[e,t].concat(a))}}((function(t){t?r.set("query",t):r.delete("query"),e.push({search:r.toString()})}),500),[]);return a.a.createElement("form",{className:"form-inline my-2 my-lg-0 ml-2"},a.a.createElement("input",{className:"form-control mr-sm-2",type:"text",value:s,placeholder:"Search",onChange:function(e){i(e.target.value),m(e.target.value)}}))},w=function(e){var t=e.people;return a.a.createElement(a.a.Fragment,null,a.a.createElement(N,null),a.a.createElement("table",{className:"table table-hover",style:{borderCollapse:"collapse"}},a.a.createElement(v,null),a.a.createElement(j,{people:t})))},x=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),r=t[0],c=t[1],o=function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),a.a.createElement(w,{people:r})},k=function(){return a.a.createElement("h1",null,"Home page")},B=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.b,{to:"/",className:"btn btn-primary m-2"},"Home"),a.a.createElement(l.b,{to:"/people",className:"btn btn-primary m-2"},"People"),a.a.createElement(u.d,null,a.a.createElement(u.a,{from:"/home",to:"/"}),a.a.createElement(u.b,{exact:!0,path:"/",component:k}),a.a.createElement(u.b,{path:"/people/:slug?",component:x}),a.a.createElement(u.b,{render:function(){return a.a.createElement("h1",null,"Page not found")}})))};o.a.render(a.a.createElement(l.a,null,a.a.createElement(B,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c82863c9.chunk.js.map